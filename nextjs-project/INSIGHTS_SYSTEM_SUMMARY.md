# Insightsè‡ªåŠ¨ç”Ÿæˆç³»ç»Ÿæ€»ç»“

## âœ… ç³»ç»ŸçŠ¶æ€

### å·²å®Œæˆçš„å·¥ä½œ

1. **æ•°æ®åº“è¿ç§»** âœ…
   - `article_source` å­—æ®µå·²æ·»åŠ 
   - ç´¢å¼•å·²åˆ›å»º
   - çº¦æŸå·²è®¾ç½®

2. **Insightsé¡µé¢** âœ…
   - `/insight` åˆ—è¡¨é¡µå·²åˆ›å»º
   - `/insight/[slug]` è¯¦æƒ…é¡µå·²åˆ›å»º
   - ä¼˜é›…çš„premium-cardè®¾è®¡é£æ ¼

3. **Headerå¯¼èˆª** âœ…
   - "Insights"é“¾æ¥å·²æ·»åŠ åˆ°æ¡Œé¢ç«¯å’Œç§»åŠ¨ç«¯
   - é“¾æ¥æŒ‡å‘ `/insight`

4. **ç”Ÿæˆè„šæœ¬** âœ…
   - `auto-generate-articles.js` å·²æ›´æ–°
   - è‡ªåŠ¨æ ‡è®° `article_source: 'ai_generated'`
   - `topics-list.js` å·²åˆ›å»ºï¼ˆ50+ä¸»é¢˜ï¼‰

5. **GitHub Actions Workflow** âœ…
   - æ¯å¤©UTC 3ç‚¹è‡ªåŠ¨è¿è¡Œ
   - æ”¯æŒæ‰‹åŠ¨è§¦å‘
   - ç»Ÿè®¡ä¿¡æ¯å·²æ›´æ–°ï¼ˆåŒºåˆ†AIç”Ÿæˆå’Œæƒå¨æ–‡ç« ï¼‰

6. **é‡å®šå‘é…ç½®** âœ…
   - `/blog` â†’ `/insight` (æ°¸ä¹…é‡å®šå‘)
   - `/blog/[slug]` â†’ `/insight/[slug]` (æ°¸ä¹…é‡å®šå‘)

7. **æŸ¥è¯¢è¿‡æ»¤** âœ…
   - æƒå¨æ–‡ç« æŸ¥è¯¢è‡ªåŠ¨æ’é™¤AIç”Ÿæˆçš„æ–‡ç« 
   - Insightsé¡µé¢åªæ˜¾ç¤ºAIç”Ÿæˆçš„æ–‡ç« 

## ğŸ“‹ å·¥ä½œæµç¨‹

```
æ¯å¤©UTC 3ç‚¹è‡ªåŠ¨è¿è¡Œ
    â†“
æŸ¥æ‰¾æ•°æ®åº“ä¸­ä¸å­˜åœ¨çš„topicï¼ˆä»50+ä¸»é¢˜åˆ—è¡¨ä¸­ï¼‰
    â†“
é€‰æ‹©æœ€å¤š3ä¸ªç¼ºå¤±ä¸»é¢˜
    â†“
å¯¹æ¯ä¸ªä¸»é¢˜ï¼š
  1. æ£€æŸ¥æ˜¯å¦å·²å­˜åœ¨ï¼ˆå»é‡ï¼‰
  2. ä½¿ç”¨OpenAIç”Ÿæˆæ–‡ç« 
  3. éªŒè¯å†…å®¹è´¨é‡
  4. æ’å…¥æ•°æ®åº“ï¼ˆarticle_source: 'ai_generated', status: 'published'ï¼‰
    â†“
æ–‡ç« è‡ªåŠ¨å‡ºç°åœ¨ /insight é¡µé¢
```

## ğŸ”§ å·²çŸ¥é—®é¢˜

### Schema Cacheé—®é¢˜

å¦‚æœé‡åˆ° "Could not find the 'article_source' column" é”™è¯¯ï¼š

**åŸå› **: Supabase JSå®¢æˆ·ç«¯çš„schema cacheå¯èƒ½æœªæ›´æ–°

**è§£å†³æ–¹æ¡ˆ**:
1. ç­‰å¾…å‡ åˆ†é’Ÿè®©cacheè‡ªåŠ¨åˆ·æ–°
2. é‡å¯åº”ç”¨/è„šæœ¬
3. å¦‚æœé—®é¢˜æŒç»­ï¼Œå¯ä»¥å°è¯•ç›´æ¥ä½¿ç”¨SQLæ’å…¥ï¼ˆé€šè¿‡MCPæˆ–Supabase SQL Editorï¼‰

**éªŒè¯**: å­—æ®µç¡®å®å­˜åœ¨ï¼Œæµ‹è¯•æ’å…¥å·²æˆåŠŸ

## ğŸ“„ æ–‡ä»¶ç»“æ„

```
nextjs-project/
â”œâ”€â”€ src/app/
â”‚   â”œâ”€â”€ insight/
â”‚   â”‚   â”œâ”€â”€ page.tsx              # Insightsåˆ—è¡¨é¡µ
â”‚   â”‚   â””â”€â”€ [slug]/
â”‚   â”‚       â””â”€â”€ page.tsx          # Insightè¯¦æƒ…é¡µ
â”‚   â””â”€â”€ ...
â”œâ”€â”€ scripts/
â”‚   â”œâ”€â”€ auto-generate-articles.js # ç”Ÿæˆè„šæœ¬
â”‚   â””â”€â”€ topics-list.js            # ä¸»é¢˜åˆ—è¡¨
â”œâ”€â”€ .github/workflows/
â”‚   â””â”€â”€ auto-generate-articles.yml # GitHub Actions
â””â”€â”€ supabase/migrations/
    â””â”€â”€ add_article_source.sql    # æ•°æ®åº“è¿ç§»
```

## ğŸš€ ä½¿ç”¨æ–¹æ³•

### æœ¬åœ°æµ‹è¯•

```bash
cd nextjs-project

# ç”Ÿæˆæ‰€æœ‰ç¼ºå¤±ä¸»é¢˜çš„æ–‡ç« ï¼ˆæœ€å¤š3ç¯‡ï¼‰
npm run generate:articles

# ç”ŸæˆæŒ‡å®šä¸»é¢˜çš„æ–‡ç« 
npm run generate:articles:topic "Sleep Training"

# ç”ŸæˆæŒ‡å®šhubçš„æ‰€æœ‰ç¼ºå¤±ä¸»é¢˜
npm run generate:articles:hub feeding
```

### GitHub Actions

1. è¿›å…¥GitHubä»“åº“çš„Actionsé¡µé¢
2. é€‰æ‹©"Auto Generate Articles" workflow
3. ç‚¹å‡»"Run workflow"
4. å¯é€‰å‚æ•°ï¼š
   - `topic`: æŒ‡å®šè¦ç”Ÿæˆçš„ä¸»é¢˜
   - `hub`: æŒ‡å®šå†…å®¹ä¸­å¿ƒ

## ğŸ“Š æ–‡ç« åˆ†ç±»

### æƒå¨æ–‡ç«  (Authoritative)
- **æ˜¾ç¤ºä½ç½®**: `/latest-articles`, `/hub/[hub-slug]`, `/[slug]`
- **æ ‡è®°**: `article_source = 'authoritative'`

### AIç”ŸæˆInsights (AI-Generated)
- **æ˜¾ç¤ºä½ç½®**: `/insight`, `/insight/[slug]`
- **æ ‡è®°**: `article_source = 'ai_generated'`
- **å¯¼èˆª**: Headerä¸­çš„"Insights"é“¾æ¥

## ğŸ¨ é¡µé¢ç‰¹æ€§

### Insightsåˆ—è¡¨é¡µ
- ä¼˜é›…çš„premium-cardå¡ç‰‡å¼å¸ƒå±€
- Hubæ ‡ç­¾é¢œè‰²åŒºåˆ†
- å¹´é¾„èŒƒå›´æ˜¾ç¤º
- å‘å¸ƒæ—¥æœŸæ˜¾ç¤º
- å…³é”®è¦ç‚¹é¢„è§ˆ

### Insightæ–‡ç« é¡µ
- ä¼˜é›…çš„é˜…è¯»ä½“éªŒ
- å…³é”®è¦ç‚¹çªå‡ºæ˜¾ç¤º
- è¯æ®ä¸Šä¸‹æ–‡è¯´æ˜
- ä½¿ç”¨æ³¨æ„äº‹é¡¹
- é“¾æ¥åˆ°Topicså’ŒTrusté¡µé¢

## ğŸ“ ä¸»é¢˜åˆ—è¡¨

ç³»ç»ŸåŒ…å«50+ä¸ªæ¯å©´ç›¸å…³ä¸»é¢˜ï¼Œåˆ†å¸ƒåœ¨6ä¸ªå†…å®¹ä¸­å¿ƒï¼š
- Feeding & Nutrition (10ä¸ª)
- Sleep (7ä¸ª)
- Development (8ä¸ª)
- Safety (6ä¸ª)
- Mom Health (6ä¸ª)
- Recipes (4ä¸ª)

è¦æ·»åŠ æ–°ä¸»é¢˜ï¼Œç¼–è¾‘ `scripts/topics-list.js`

## ğŸ” å»é‡æœºåˆ¶

ç³»ç»Ÿä½¿ç”¨ä¸¤å±‚å»é‡æ£€æŸ¥ï¼š
1. **Slugæ£€æŸ¥** - é€šè¿‡ç”Ÿæˆçš„slugæ£€æŸ¥æ˜¯å¦å·²å­˜åœ¨
2. **æ ‡é¢˜ç›¸ä¼¼åº¦æ£€æŸ¥** - æ£€æŸ¥æ˜¯å¦æœ‰ç›¸ä¼¼æ ‡é¢˜çš„æ–‡ç« 

## ğŸ“ˆ ç›‘æ§

GitHub Actionsæ¯æ¬¡è¿è¡Œåä¼šæ˜¾ç¤ºï¼š
- æ€»æ–‡ç« æ•°
- AIç”ŸæˆInsightsæ•°é‡
- æƒå¨æ–‡ç« æ•°é‡
- æœ€æ–°5ç¯‡Insights

## ğŸ“š ç›¸å…³æ–‡æ¡£

- [Insightså·¥ä½œæµç¨‹æŒ‡å—](./INSIGHTS_WORKFLOW_GUIDE.md)
- [è‡ªåŠ¨ç”Ÿæˆæ–‡ç« æŒ‡å—](./AUTO_GENERATE_ARTICLES_GUIDE.md)
- [æ•°æ®åº“ç»“æ„](./supabase/schema.sql)

---

**æœ€åæ›´æ–°**: 2025-01-XX
**ç‰ˆæœ¬**: 2.0 (Insightsé¡µé¢ç‰ˆæœ¬)
